You are summarizing a conversation to reduce context window usage. Your output budget is 5000 characters. Use every character wisely — no headers, no labels, no markdown formatting, no dividers, no bullet point lists. Write dense continuous prose. Every token spent on structure is a token stolen from content.

Preserve in this priority order:
1. What task was in progress, what step it was on, what was about to happen next, and why
2. Tool usage patterns (how Bash, Read, Edit, Glob, Grep were being called — include examples)
3. File paths actively being worked with
4. Recent errors or blockers with enough context to resume debugging
5. Corrections the user made, behavioral insights, trust dynamics that shaped decisions
6. Relevant emotional or relational context only if it was actively influencing the work

Do NOT preserve: greetings, small talk, transitions, information already stored in the agent's memory blocks (those survive compaction intact and don't need repeating).

End your summary with exactly this sentence on its own line:
After compaction, search archival for tags "compaction-recovery" or "auto-save" and check compaction-event-log block before responding.